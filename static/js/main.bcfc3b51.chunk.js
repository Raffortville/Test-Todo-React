(this["webpackJsonptest-react-todo"]=this["webpackJsonptest-react-todo"]||[]).push([[0],{112:function(e,t,n){},132:function(e,t,n){"use strict";n.r(t);var c={};n.r(c),n.d(c,"GET_TODOS",(function(){return U})),n.d(c,"CURRENT_TODO",(function(){return G})),n.d(c,"ADD_TODO",(function(){return R})),n.d(c,"DELETE_TODO",(function(){return z})),n.d(c,"SET_ALERT",(function(){return q})),n.d(c,"UPDATE_TODO",(function(){return P})),n.d(c,"SET_LOADING",(function(){return M})),n.d(c,"getTodos",(function(){return B})),n.d(c,"selectTodo",(function(){return J})),n.d(c,"addTodo",(function(){return K})),n.d(c,"deleteTodo",(function(){return W})),n.d(c,"updateTodo",(function(){return H})),n.d(c,"setAlert",(function(){return Q})),n.d(c,"isLoading",(function(){return V})),n.d(c,"fetchTodo",(function(){return X})),n.d(c,"getTodoById",(function(){return Y})),n.d(c,"postTodo",(function(){return Z})),n.d(c,"deleteTodoById",(function(){return $})),n.d(c,"patchTodo",(function(){return ee}));var r={};n.r(r),n.d(r,"LOG_USER",(function(){return me})),n.d(r,"LOG_OUT",(function(){return ve})),n.d(r,"logUser",(function(){return ye})),n.d(r,"logout",(function(){return ge})),n.d(r,"postCreateUser",(function(){return Te})),n.d(r,"postLogUser",(function(){return ke})),n.d(r,"logOut",(function(){return _e}));var a=n(2),o=n(0),s=n.n(o),i=n(11),l=n.n(i),u=n(37),d=n(10),j=n(86),b=n(87),O=(n(112),n(15)),f=n(51),x=n(180),h=n(25),p=n(43),m=n(12),v=n(192),y=n(172),g=n(174),T=n(135),k=n(190),_=n(178),w=n(179),C=n(181),D=n(137),E=n(182),S=n(19),N=n.n(S),A=n(34),L=n(35),I=n.n(L),F="https://raffortville-heroku.herokuapp.com",U="GET_TODOS",G="CURRENT_TODO",R="ADD_TODO",z="DELETE_TODO",q="SET_ALERT",P="UPDATE_TODO",M="SET_LOADING",B=function(e){return{type:U,payload:e}},J=function(e){return{type:G,payload:e}},K=function(e){return{type:R,payload:e}},W=function(e){return{type:z,payload:e}},H=function(e){return{type:P,payload:e}},Q=function(e){return{type:q,payload:e}},V=function(e){return{type:M,payload:e}},X=function(e){return function(){var t=Object(A.a)(N.a.mark((function t(n){var c,r,a,o;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c="".concat(F,"/tasks/").concat(e.userId),r={Authorization:"".concat(e.token)},n(V(!0)),t.prev=3,t.next=6,I.a.get(c,{headers:r});case 6:return a=t.sent,t.next=9,a.data;case 9:o=t.sent,n(B(o)),n(V(!1)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(e){return t.apply(this,arguments)}}()},Y=function(e,t){return function(){var n=Object(A.a)(N.a.mark((function n(c){var r,a,o,s;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(F,"/tasks/byId/").concat(e),a={Authorization:"".concat(t)},n.prev=2,n.next=5,I.a.get(r,{headers:a});case 5:return o=n.sent,n.next=8,o.data;case 8:s=n.sent,c(J(s)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[2,12]])})));return function(e){return n.apply(this,arguments)}}()},Z=function(e,t){return function(){var n=Object(A.a)(N.a.mark((function n(c){var r,a,o,s;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(F,"/tasks/createTask"),a={Authorization:"".concat(e.token),"Content-Type":"application/json"},n.prev=2,n.next=5,I.a.post(r,{payload:e},{headers:a});case 5:return o=n.sent,n.next=8,o.data;case 8:s=n.sent,c(K(s)),c(Q(t)),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(2),console.log(n.t0.message);case 16:case"end":return n.stop()}}),n,null,[[2,13]])})));return function(e){return n.apply(this,arguments)}}()},$=function(e,t,n){return function(){var c=Object(A.a)(N.a.mark((function c(r){var a,o;return N.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a="".concat(F,"/tasks/").concat(e),o={Authorization:"".concat(n)},r(V(!0)),c.prev=3,c.next=6,I.a.delete(a,{headers:o});case 6:r(W(e)),r(Q(t)),r(V(!1)),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(3),console.log(c.t0);case 14:case"end":return c.stop()}}),c,null,[[3,11]])})));return function(e){return c.apply(this,arguments)}}()},ee=function(e,t){return function(){var n=Object(A.a)(N.a.mark((function n(c){var r,a,o,s;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(F,"/tasks/").concat(e._id),a={Authorization:"".concat(e.token)},n.prev=2,n.next=5,I.a.put(r,{payload:e},{headers:a});case 5:return o=n.sent,n.next=8,o.data;case 8:s=n.sent,c(H(s)),c(Q(t)),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(2),console.log(n.t0);case 16:case"end":return n.stop()}}),n,null,[[2,13]])})));return function(e){return n.apply(this,arguments)}}()},te=[{name:"SIGNIN",icon:"login",link:"/signin"},{name:"SIGNUP",icon:"person_add",link:"/signup"}],ne=[{name:"LOGOUT",icon:"error_outline",link:"/logout"}],ce={email:"",password:""},re=[{value:"#fbc25d",label:"orange"},{value:"#fb5d5d",label:"fushia"},{value:"#93fb5d",label:"green"},{value:"#5da0fb",label:"blue"},{value:"#dc5dfb",label:"purple"},{value:"#b3c785",label:"beige"}],ae={message:"task deleted with success",severity:"info"},oe={message:"Todo list is cleaned up",severity:"info"},se={message:"New task added with success !",severity:"success"},ie={message:"Field is blank, please fill out it",severity:"error"},le={message:"task updated with success !",severity:"success"},ue={message:"invalid password or username !",severity:"error"},de=function(e){var t;return Object.values(e).forEach((function(e){return t=""!==e})),t},je=function(e){var t=Object(d.b)(),n=Object(d.c)((function(e){return e.todos.currentTodo})),c=Object(d.c)((function(e){return e.user.user})),r=Object(o.useState)(n),i=Object(h.a)(r,2),l=i[0],u=i[1],j=Object(o.useState)(e.modeForm),b=Object(h.a)(j,2),O=b[0],f=b[1];s.a.useEffect((function(){u(Object(m.a)(Object(m.a)({},n),{},{userId:c.userId,token:c.token})),f(e.modeForm)}),[u,n,f,e.modeForm,c]);var S=function(e){var t=e.target,n=t.value,c=t.name;u(Object(m.a)(Object(m.a)({},l),{},Object(p.a)({},c,n)))};return Object(a.jsx)(v.a,{mt:2,width:"90%",children:Object(a.jsxs)(y.a,{className:"backGroundCard",elevation:4,children:[Object(a.jsxs)(g.a,{children:[Object(a.jsx)(v.a,{children:Object(a.jsxs)(T.a,{variant:"h4",className:"subTitle1",children:[O," your task"]})}),Object(a.jsxs)(v.a,{display:"flex",flexDirection:"column",children:[Object(a.jsx)(k.a,{onChange:S,color:"secondary",margin:"dense",label:"Title",name:"title",value:l.title,required:!0}),Object(a.jsx)(k.a,{onChange:S,color:"secondary",id:"filled-multiline-static",label:"Description",multiline:!0,rows:1,value:l.description,name:"description",variant:"filled",required:!0}),Object(a.jsx)(k.a,{onChange:S,color:"secondary",required:!0,id:"standard-select-color",select:!0,label:"Color",name:"color",value:l.color,helperText:"Select a color for your task",children:re.map((function(e){return Object(a.jsx)(_.a,{value:e.value,children:Object(a.jsxs)(v.a,{display:"flex",justifyContent:"space-between",style:{width:"100%"},children:[Object(a.jsx)(T.a,{children:e.label}),Object(a.jsx)(v.a,{className:"colorPrev",style:{backgroundColor:e.value}})]})},e.value)}))})]})]}),Object(a.jsx)(w.a,{children:Object(a.jsxs)(x.a,{container:!0,display:"flex",justify:"space-between",alignItems:"baseline",children:[Object(a.jsxs)(v.a,{children:[Object(a.jsx)(C.a,{onClick:function(){de(l)?(t("Create"===O?Z(l,se):ee(l,le)),e.closeTodoForm(),window.sessionStorage.setItem("open","true")):t(Q(ie))},size:"small",children:Object(a.jsx)(T.a,{className:"buttonFont",children:"Save"})}),Object(a.jsx)(C.a,{onClick:function(){return u(n)},size:"small",children:Object(a.jsx)(T.a,{className:"buttonFont",children:"Cancel"})})]}),Object(a.jsx)(v.a,{children:Object(a.jsx)(D.a,{onClick:function(){return e.closeTodoForm(!1)},children:Object(a.jsx)(E.a,{className:"iconStyle",children:"close"})})})]})})]})})},be=n(134),Oe=n(195),fe=n(183),xe=n(184),he=n(196),pe=n(89),me="LOG_USER",ve="LOG_OUT",ye=function(e){return{type:me,payload:e}},ge=function(){return{type:ve}},Te=function(e){return function(){var t=Object(A.a)(N.a.mark((function t(n){var c,r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c="".concat(F,"/users/signup"),t.prev=1,t.next=4,I.a.post(c,e);case 4:return r=t.sent,t.next=7,r.data;case 7:n(ke(e)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0.response.data),n(Q(ue));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},ke=function(e){return function(){var t=Object(A.a)(N.a.mark((function t(n){var c,r,a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c="".concat(F,"/users/login"),t.prev=1,t.next=4,I.a.post(c,e);case 4:return r=t.sent,t.next=7,r.data;case 7:a=t.sent,n(ye(a)),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0.response.data),n(Q(ue));case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},_e=function(){return function(e){e(ge()),window.location.reload()}},we={todoActions:c,userActions:r},Ce={todos:[],currentTodo:{title:"",description:"",color:"",completed:!1,userId:""},alert:{message:"",severity:""},loading:!1},De=function(e){var t=Object(d.b)(),n=Object(d.c)((function(e){return e.todos.todos})),c=Object(d.c)((function(e){return e.todos.currentTodo})),r=Object(d.c)((function(e){return e.user.user})),s=Object(d.c)((function(e){return e.todos.loading})),i=Object(o.useState)(!1),l=Object(h.a)(i,2),u=l[0],j=l[1];Object(o.useEffect)((function(){t(X(r))}),[t,r]);return Object(a.jsxs)(x.a,{item:!0,md:8,children:[s?null:n.length>=0&&Object(a.jsx)(be.a,{children:n.map((function(n,o){return Object(a.jsxs)(Oe.a,{style:{backgroundColor:n.color},expanded:u===o,onChange:(s=o,function(e,t){j(!!t&&s)}),children:[Object(a.jsx)(fe.a,{expandIcon:Object(a.jsx)(E.a,{children:"expand_more"}),children:Object(a.jsx)(T.a,{children:n.title})}),Object(a.jsx)(xe.a,{children:Object(a.jsxs)(x.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(a.jsx)(v.a,{children:Object(a.jsx)(T.a,{component:"p",variant:"body2",children:n.description})}),Object(a.jsxs)(v.a,{children:[Object(a.jsx)(he.a,{title:"edit your task",children:Object(a.jsx)(D.a,{onClick:function(){return c=n._id,t(Y(c,r.token)),e.handleModeForm("Edit"),e.openTodoForm(!0),void j(!1);var c},size:"small",children:Object(a.jsx)(E.a,{className:"iconStyle",children:"edit"})})}),Object(a.jsx)(he.a,{title:"delete your task",children:Object(a.jsx)(D.a,{size:"small",onClick:function(){return a=n._id,c._id===a&&t(J(Ce.currentTodo)),t($(a,ae,r.token)),e.openTodoForm(!1),void j(!1);var a},children:Object(a.jsx)(E.a,{className:"iconStyle",children:"delete_forever"})})})]})]})})]},o);var s}))}),s?null:n.length>0&&Object(a.jsx)(v.a,{display:"flex",justifyContent:"center",children:Object(a.jsx)(C.a,{onClick:function(){n.forEach((function(e){t($(e._id,oe,r.token))}))},size:"large",startIcon:Object(a.jsx)(E.a,{className:"iconStyle",children:"delete_outlined"}),children:Object(a.jsx)(T.a,{className:"buttonFont",children:"Clear ToDo List"})})})]})},Ee=n(193),Se=function(){var e=Object(d.c)((function(e){return e.todos.alert})),t=Object(d.b)();return Object(a.jsx)("div",{children:""!==e.message?(setTimeout((function(){t(Q(Ce.alert))}),3e3),Object(a.jsx)(Ee.a,{variant:"filled",severity:e.severity,children:e.message})):null})},Ne=function(e){return Object(a.jsxs)(v.a,{display:"flex",flexDirection:"column",alignItems:"center",children:[Object(a.jsx)(T.a,{variant:"h2",className:"title",children:"ToDo"}),Object(a.jsx)(T.a,{variant:"h5",className:"subTitle",children:e.title})]})},Ae=function(){var e=Object(d.b)(),t="Create",n=Object(o.useState)(!1),c=Object(h.a)(n,2),r=c[0],s=c[1],i=Object(o.useState)(t),l=Object(h.a)(i,2),u=l[0],j=l[1],b=function(e){return s(e)},O=function(e){return j(e)};return Object(a.jsx)(x.a,{item:!0,md:12,children:Object(a.jsxs)(x.a,{container:!0,justify:"flex-end",children:[Object(a.jsxs)(x.a,{item:!0,md:7,children:[Object(a.jsxs)(x.a,{container:!0,justify:"center",direction:"column",alignItems:"center",children:[Object(a.jsx)(Ne,{}),Object(a.jsx)(v.a,{onClick:function(){return n=t,e(J(Ce.currentTodo)),O(n),void b(!0);var n},mt:1,children:Object(a.jsx)(C.a,{size:"large",startIcon:Object(a.jsx)(E.a,{className:"iconStyle",children:"add_circle_outline"}),children:Object(a.jsx)(T.a,{className:"buttonFont",children:"add a new task"})})})]}),Object(a.jsx)(x.a,{container:!0,justify:"center",children:Object(a.jsx)(De,{handleModeForm:O,openTodoForm:b})})]}),Object(a.jsxs)(x.a,{item:!0,md:3,children:[r&&Object(a.jsx)(je,{modeForm:u,closeTodoForm:b}),Object(a.jsx)(v.a,{mt:7,mr:2,children:Object(a.jsx)(Se,{})})]})]})})},Le=function(){return Object(a.jsx)(x.a,{container:!0,display:"flex",justify:"center",children:Object(a.jsx)(Ae,{})})},Ie=n(177),Fe=n(136),Ue=n(185),Ge=function(){var e=Object(d.c)((function(e){return e.user.userLog})),t=Object(d.c)((function(e){return e.user.user})),n=Object(o.useState)(te),c=Object(h.a)(n,2),r=c[0],s=c[1];return Object(o.useEffect)((function(){s(e?ne:te)}),[e]),Object(a.jsx)(v.a,{children:Object(a.jsx)(Ie.a,{children:Object(a.jsxs)(v.a,{display:"flex",children:[r.map((function(e,t){return Object(a.jsx)(Fe.a,{children:Object(a.jsx)(f.b,{to:e.link,className:"navLink",children:Object(a.jsx)(v.a,{display:"flex",children:Object(a.jsxs)(Ue.a,{children:[Object(a.jsx)(v.a,{mr:1,children:Object(a.jsx)(T.a,{variant:"body1",className:"subTitle",children:e.name})}),Object(a.jsx)(E.a,{children:e.icon})]})})})},t)})),e&&Object(a.jsx)(Fe.a,{children:Object(a.jsx)(v.a,{display:"flex",children:Object(a.jsxs)(Ue.a,{children:[Object(a.jsx)(v.a,{mr:1,children:Object(a.jsx)(T.a,{variant:"body1",className:"subTitle",children:t.username})}),Object(a.jsx)(E.a,{children:"sentiment_satisfied_alt"})]})})})]})})})},Re=n(186),ze=function(){return Object(a.jsx)("nav",{children:Object(a.jsx)(x.a,{item:!0,md:12,children:Object(a.jsx)(Re.a,{children:Object(a.jsx)(x.a,{container:!0,direction:"row",justify:"flex-end",children:Object(a.jsx)(v.a,{children:Object(a.jsx)(Ge,{})})})})})})},qe=function(e){var t=Object(d.b)(),n=s.a.useState(e.state),c=Object(h.a)(n,2),r=c[0],o=c[1],i=function(e){var t=e.target,n=t.name,c=t.value;o(Object(m.a)(Object(m.a)({},r),{},Object(p.a)({},n,c)))};return Object(a.jsxs)(v.a,{mt:3,p:2,display:"flex",flexDirection:"column",position:"reltive",children:[Object(a.jsxs)(v.a,{display:"flex",flexDirection:"column",children:[!e.loginMode&&Object(a.jsx)(k.a,{onChange:i,name:"username",value:r.username,color:"secondary",required:!0,label:"Username"}),Object(a.jsx)(k.a,{onChange:i,type:"email",name:"email",value:r.email,color:"secondary",required:!0,label:"Email"}),Object(a.jsx)(k.a,{onChange:i,name:"password",value:r.password,type:"password",color:"secondary",required:!0,label:"Password"})]}),Object(a.jsxs)(v.a,{mt:3,display:"flex",justifyContent:"flex-end",children:[Object(a.jsx)(C.a,{onClick:function(){de(r)?e.handleSubmit(r):t(Q(ie))},className:"buttonFont",children:"OK"}),Object(a.jsx)(C.a,{onClick:function(){return o(e.state)},className:"buttonFont",children:"Cancel"})]}),Object(a.jsx)(v.a,{position:"absolute",bottom:"35px",width:"25%",children:Object(a.jsx)(Se,{})})]})},Pe=function(){var e=Object(d.b)();return Object(a.jsxs)(v.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[Object(a.jsx)(Ne,{title:"Connexion"}),Object(a.jsx)(x.a,{container:!0,justify:"center",children:Object(a.jsx)(x.a,{item:!0,md:3,children:Object(a.jsx)(qe,{loginMode:!0,handleSubmit:function(t){e(ke(t))},state:ce})})})]})},Me={user:{username:"",password:"",email:""},userLog:!1},Be=function(){var e=Object(d.b)();return Object(a.jsxs)(v.a,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",children:[Object(a.jsx)(Ne,{title:"Create your account"}),Object(a.jsx)(x.a,{container:!0,justify:"center",children:Object(a.jsx)(x.a,{item:!0,md:3,children:Object(a.jsx)(qe,{handleSubmit:function(t){e(Te(t))},state:Me.user})})})]})},Je=n(197),Ke=n(189),We=n(187),He=n(188),Qe=function(){var e=Object(O.g)(),t=Object(d.b)();return Object(a.jsx)("div",{children:Object(a.jsxs)(Je.a,{open:!0,"aria-describedby":"alert-dialog-title",children:[Object(a.jsx)(We.a,{children:Object(a.jsx)(He.a,{children:"Confirm Logout ?"})}),Object(a.jsxs)(Ke.a,{children:[Object(a.jsx)(C.a,{onClick:function(){return e.push("/")},className:"buttonFont",children:" Cancel"}),Object(a.jsx)(C.a,{onClick:function(){return t(_e())},className:"buttonFont",children:" Ok "})]})]})})},Ve=function(){return Object(a.jsx)(x.a,{children:Object(a.jsx)(Qe,{})})};var Xe=function(){var e=Object(d.c)((function(e){return e.user.userLog}));return Object(a.jsx)(f.a,{children:Object(a.jsx)(x.a,{container:!0,className:"backGround",children:Object(a.jsxs)(x.a,{item:!0,md:12,children:[Object(a.jsx)(x.a,{container:!0,diplay:"flex",justify:"flex-end",children:Object(a.jsx)(ze,{})}),Object(a.jsxs)(x.a,{container:!0,display:"flex",justify:"center",direction:"column",children:[Object(a.jsxs)(O.d,{children:[Object(a.jsx)(O.b,{exact:!0,path:"/",component:Le}),Object(a.jsx)(O.b,{path:"/todo",component:Ae}),Object(a.jsx)(O.b,{path:"/signin",component:Pe}),Object(a.jsx)(O.b,{path:"/signup",component:Be}),Object(a.jsx)(O.b,{path:"/logout",component:Ve})]}),e?Object(a.jsx)(O.a,{push:!0,to:"/"}):Object(a.jsx)(O.a,{push:!0,to:"/signin"})]})]})})})},Ye=Object(u.combineReducers)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we.todoActions.ADD_TODO:return Object(m.a)(Object(m.a)({},e),{},{todos:[].concat(Object(pe.a)(e.todos),[t.payload])});case we.todoActions.GET_TODOS:return Object(m.a)(Object(m.a)({},e),{},{todos:t.payload});case we.todoActions.DELETE_TODO:return Object(m.a)(Object(m.a)({},e),{},{todos:e.todos.filter((function(e){return e._id!==t.payload}))});case we.todoActions.UPDATE_TODO:return Object(m.a)(Object(m.a)({},e),{},{todos:e.todos.map((function(e){return e._id===t.payload._id?t.payload:e}))});case we.todoActions.CURRENT_TODO:return Object(m.a)(Object(m.a)({},e),{},{currentTodo:t.payload});case we.todoActions.SET_ALERT:return Object(m.a)(Object(m.a)({},e),{},{alert:t.payload});case we.todoActions.SET_LOADING:return Object(m.a)(Object(m.a)({},e),{},{loading:t.payload});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we.userActions.LOG_USER:return Object(m.a)(Object(m.a)({},e),{},{user:t.payload,userLog:!0});case we.userActions.LOG_OUT:return Object(m.a)(Object(m.a)({},e),{},{user:Me.user,userLog:!1});default:return e}}}),Ze=Object(u.createStore)(Ye,Object(b.composeWithDevTools)(Object(u.applyMiddleware)(j.a)));l.a.render(Object(a.jsx)(d.a,{store:Ze,children:Object(a.jsx)(Xe,{})}),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.bcfc3b51.chunk.js.map